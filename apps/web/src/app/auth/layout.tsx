"use client";

import { useRouter } from 'next/navigation';
import { motion } from "motion/react"
import LightRays from '@/backgrounds/LightRays/LightRays';
import { useUser } from '@clerk/nextjs';
import { ROUTES } from '@/lib/constants';
import { useEffect } from 'react';

export default function AuthLayout({
    children,
}: Readonly<{
    children: React.ReactNode;
}>) {
    const { isLoaded, isSignedIn } = useUser();
    const router = useRouter();

    useEffect(() => {
        if (isLoaded && isSignedIn) {
            router.push(ROUTES.PROFILE.VISIONS);
        }
    }, [isLoaded, isSignedIn, router]);

    // Show loading spinner while checking auth status
    if (!isLoaded) {
        return (
            <div className="min-h-screen bg-background flex items-center justify-center">
                <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
            </div>
        );
    }

    // Don't render auth pages if user is already signed in
    if (isSignedIn) {
        return null;
    }
    return (
        <div className="min-h-screen bg-transparent flex flex-col">
            {/* Main Content */}
            <div className="w-screen h-[300px] dark:inline hidden overflow-none sm:h-screen bg-transparent absolute top-0">
                <LightRays
                    raysOrigin="top-center"
                    raysSpeed={1.5}
                    lightSpread={0.8}
                    rayLength={0.8}
                    followMouse={true}
                    mouseInfluence={0.1}
                    noiseAmount={0.1}
                    distortion={0.05}
                />
            </div>
            <motion.div className="sm:inline absolute hidden left-55 top-20">
                <div className="relative">
                    <motion.p className="w-[500px] text-3xl text-[#FFA9D9]/80 absolute top-10 -left-4.5 font-gaegu font-bold -rotate-15">
                        The best ideation experience
                        <span className="absolute">
                            <svg className="fill-[#FFA9D9]/80" width="20" height="20" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fillRule="evenodd" clipRule="evenodd" d="M35.6079 30.0564C28.1818 23.952 22.1645 16.6825 17.6428 8.21291C16.7384 6.52595 14.6341 5.88246 12.9298 6.78681C11.2428 7.69115 10.5992 9.79554 11.5036 11.4999C16.4775 20.7695 23.0515 28.7347 31.1907 35.4303C32.6689 36.6477 34.8775 36.439 36.0949 34.9607C37.3123 33.4651 37.0862 31.2738 35.6079 30.0564Z" />
                                <path fillRule="evenodd" clipRule="evenodd" d="M31.6476 6.28254C32.0302 13.3086 32.3781 20.3347 32.8129 27.3608C32.9347 29.2738 34.5868 30.7347 36.4999 30.613C38.4129 30.4912 39.8738 28.8391 39.752 26.926C39.3173 19.9173 38.9694 12.9087 38.5867 5.88257C38.4824 3.97474 36.8303 2.50517 34.9172 2.613C33.0042 2.72082 31.5259 4.36428 31.6476 6.28254Z" />
                                <path fillRule="evenodd" clipRule="evenodd" d="M57.4667 7.70873C53.0146 14.4218 47.9713 20.613 42.893 26.8739C41.6756 28.3695 41.9016 30.5609 43.3972 31.7609C44.8929 32.9783 47.0843 32.7522 48.2843 31.2565C53.5017 24.8391 58.6843 18.4565 63.2756 11.5521C64.3365 9.95214 63.8842 7.79569 62.2842 6.73483C60.7016 5.67396 58.5276 6.10873 57.4667 7.70873Z" />
                                <path fillRule="evenodd" clipRule="evenodd" d="M74.7131 32.6652C62.6435 33.2043 49.8261 33.2217 37.7565 32.4565C35.8435 32.3521 34.1913 33.7956 34.0696 35.7261C33.9478 37.6391 35.4087 39.2913 37.3218 39.413C49.6348 40.1782 62.7132 40.1608 75.0262 39.6217C76.9392 39.5347 78.4347 37.9 78.3478 35.987C78.2608 34.0739 76.6261 32.5782 74.7131 32.6652Z" />
                                <path fillRule="evenodd" clipRule="evenodd" d="M31.1812 34.8737C38.6247 43.9867 46.3291 52.9259 53.2335 62.4563C54.3639 64.0042 56.5379 64.3519 58.1031 63.2215C59.6509 62.091 59.9987 59.917 58.8682 58.3692C51.8769 48.7344 44.0857 39.691 36.5553 30.4736C35.3379 28.9953 33.1465 28.7693 31.6682 29.9867C30.1726 31.2041 29.9638 33.3954 31.1812 34.8737Z" />
                                <path fillRule="evenodd" clipRule="evenodd" d="M33.4355 37.5179C35.3833 47.0136 35.9225 56.0919 36.0616 65.7093C36.079 67.6223 37.6616 69.1527 39.5747 69.1353C41.5051 69.1005 43.0355 67.5353 43.0007 65.6048C42.8616 55.5353 42.2877 46.0571 40.2529 36.1092C39.8529 34.231 38.0269 33.0135 36.1312 33.4135C34.253 33.7961 33.0355 35.6397 33.4355 37.5179Z" />
                                <path fillRule="evenodd" clipRule="evenodd" d="M33.7495 36.7531C28.1147 48.0226 25.2103 60.5444 19.1756 71.5705C18.2538 73.2401 18.8798 75.3617 20.5667 76.2835C22.2537 77.2052 24.3582 76.5791 25.2799 74.9095C31.3495 63.8138 34.2885 51.2226 39.9755 39.8661C40.8277 38.1443 40.132 36.0574 38.4276 35.1878C36.7059 34.3356 34.619 35.0313 33.7495 36.7531Z" />
                                <path fillRule="evenodd" clipRule="evenodd" d="M36.8506 34.1956C25.6332 36.1782 14.4332 37.0825 3.14621 38.4217C1.23317 38.6477 -0.123351 40.3695 0.102736 42.2826C0.328823 44.1956 2.05072 45.5521 3.96377 45.3261C15.3725 43.9869 26.7116 43.0478 38.0681 41.0478C39.9463 40.6999 41.2159 38.8912 40.8855 37.013C40.5376 35.1173 38.7462 33.8478 36.8506 34.1956Z" />
                                <path fillRule="evenodd" clipRule="evenodd" d="M44.6564 28.9096C42.3433 28.8053 40.152 28.6487 37.8911 28.3182C35.9781 28.04 34.2215 29.3617 33.9433 31.2574C33.665 33.153 34.9866 34.927 36.8823 35.2052C39.3866 35.5705 41.8041 35.7444 44.3432 35.8487C46.2563 35.9357 47.891 34.4574 47.9605 32.5269C48.0475 30.6139 46.5694 28.9966 44.6564 28.9096Z" />
                            </svg>
                        </span>
                    </motion.p>
                    <motion.span>
                        <svg className="fill-[#FFA9D9]/80" width="310" height="100" viewBox="0 0 310 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fillRule="evenodd" clipRule="evenodd" d="M184.059 42.102C143.9 52.1272 104.061 63.5928 64.7754 76.5239C46.0979 82.6721 23.9105 87.7131 6.73874 97.6565C5.88377 98.1547 6.2582 98.953 6.29804 99.0323C6.37866 99.1948 6.6817 99.727 7.42217 99.5811C7.50289 99.5662 8.04625 99.353 8.25498 99.274C13.5444 97.2606 18.7855 95.132 24.0884 93.1576C42.395 86.3328 60.8938 80.0707 79.4727 74.0219C104.132 65.992 129.236 58.8788 154.249 52.0405C167.941 48.2984 182.224 45.5777 195.841 41.3213C200.919 40.0886 206.003 38.88 211.092 37.6913C232.368 32.7311 253.793 28.5085 275.277 24.5887C282.185 23.328 287.481 22.4789 294.223 21.1562C296.783 20.6552 300.823 19.7699 303.634 19.1506C304.046 19.0612 305.097 18.8207 305.533 18.7217C305.578 18.7193 305.622 18.7089 305.67 18.6975C305.838 18.6578 305.915 18.6269 305.931 18.6232C306.847 18.2583 306.546 17.3793 306.49 17.249C306.479 17.2219 306.155 16.496 305.331 16.6617C305.134 16.7 303.732 17.0238 303.192 17.1433C300.397 17.7589 296.373 18.6404 293.826 19.1426C287.096 20.4624 281.804 21.3106 274.908 22.5685C253.392 26.4959 231.934 30.722 210.626 35.6897C208.024 36.2978 205.419 36.9108 202.819 37.5308C202.678 37.3237 202.421 37.114 201.964 37.1041C201.537 37.0955 198.631 37.6867 197.497 37.8583C189.1 39.1296 189.351 39.1039 180.158 40.6948C166.234 43.1022 164.099 43.4053 149.74 46.431C123.659 51.9257 97.7314 58.1231 71.8147 64.3306C59.0208 67.3996 45.5186 71.515 32.137 72.9746C36.301 71.4559 40.5133 70.0694 44.7052 68.6328C59.019 63.7296 73.4736 59.3674 88.0386 55.2579C122.977 45.4011 158.184 36.4309 193.947 30.1123C186.455 31.9634 178.988 33.9096 171.504 35.7968C141.04 43.4871 110.095 50.4635 80.1388 60.0143C79.6028 60.1878 79.3058 60.765 79.4755 61.3034C79.6461 61.8459 80.2262 62.1435 80.7632 61.9741C110.679 52.4327 141.581 45.4706 172.006 37.7898C183.31 34.9386 194.578 31.9565 205.942 29.3572C209.842 28.467 213.768 27.6889 217.672 26.8147C218.445 26.6443 220.463 26.3267 220.731 26.1956C221.324 25.9073 221.35 25.4112 221.336 25.1738C221.323 25.0331 221.202 24.2341 220.178 24.1809C213.192 23.817 201.157 26.7613 194.718 27.8895C158.501 34.2312 122.854 43.3013 87.4811 53.2781C72.8812 57.4001 58.3916 61.7748 44.0389 66.6914C39.0244 68.4074 33.9818 70.0582 29.0261 71.9334C28.2261 72.237 26.4085 72.8323 25.55 73.2089C25.1912 73.3657 24.9427 73.5259 24.8392 73.6222C24.4351 73.9967 24.4423 74.4005 24.5039 74.6604C24.5473 74.8614 24.7978 75.5454 25.8204 75.5059C41.4013 74.9022 57.3298 69.9164 72.2924 66.3293C98.1932 60.1256 124.101 53.9329 150.166 48.442C164.489 45.4247 166.615 45.1196 180.511 42.7188C181.882 42.4784 183.044 42.2792 184.059 42.102Z" />
                        </svg>
                    </motion.span>
                </div>
            </motion.div>
            <motion.div className="sm:inline absolute hidden right-105 top-120">
                <div className="relative">
                    <motion.p className="text-3xl text-center text-[#66E9A0] absolute top-1 -left-4.5 font-gaegu font-bold -rotate-5">
                        <span className="absolute -left-23 top-5 rotate-20">
                            <svg className="fill-[#66E9A0] " width="110" height="110" viewBox="0 0 180 180" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fillRule="evenodd" clipRule="evenodd" d="M125.918 5.8458C116.987 66.971 62.1418 96.6614 4.8859 103.412C3.90271 103.53 3.19581 104.423 3.31361 105.406C3.43141 106.389 4.32394 107.096 5.30712 106.978C64.167 100.041 120.29 69.2001 129.47 6.36226C129.615 5.3836 128.935 4.47291 127.952 4.32793C126.973 4.18294 126.063 4.86261 125.918 5.8458Z" />
                                <path fillRule="evenodd" clipRule="evenodd" d="M6.17112 105.069C8.71744 103.207 11.9389 100.906 12.2968 100.634C21.9973 93.2667 30.0349 84.7895 37.1121 74.8444C37.6875 74.0379 37.4971 72.9143 36.6906 72.3388C35.8842 71.7634 34.7606 71.9538 34.1852 72.7603C27.3255 82.4064 19.5326 90.6298 10.1221 97.7749C9.57386 98.1917 2.32897 103.361 0.942538 104.517C0.371655 104.988 0.195077 105.432 0.163361 105.541C-0.0269333 106.112 0.0863017 106.56 0.240349 106.886C0.417051 107.253 0.856425 107.788 1.70822 108.06C2.60079 108.341 4.58538 108.468 5.08377 108.54C12.6004 109.655 21.0867 110.244 28.8117 112.382C36.1788 114.421 42.8616 117.874 47.1478 124.792C47.6688 125.635 48.7789 125.893 49.6216 125.372C50.4643 124.851 50.7227 123.741 50.2017 122.898C45.4081 115.164 38.0046 111.2 29.7721 108.921C22.0923 106.796 13.6832 106.152 6.17112 105.069Z" />
                            </svg>
                        </span>
                        You put your infomation here btw
                        <svg className="fill-[#66E9A0]" width="400" height="42" viewBox="0 0 666 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fillRule="evenodd" clipRule="evenodd" d="M71.1276 21.6612C59.6626 24.9852 46.4256 28.2932 33.6916 29.1192C22.8076 29.8242 12.2947 28.7292 3.68966 24.0702C2.47666 23.4142 0.95766 23.8652 0.30166 25.0792C-0.35534 26.2922 0.0966552 27.8112 1.30966 28.4682C10.6967 33.5492 22.1426 34.8783 34.0146 34.1082C46.9776 33.2682 60.4536 29.9382 72.1486 26.5662C73.5056 29.3152 76.3157 31.8782 81.2656 33.7692C88.8686 36.6742 99.2496 36.6382 110.186 35.0012C126.047 32.6282 143.109 26.9692 154.079 22.9482C154.529 22.7842 155.199 22.5232 156.019 22.1792C156.269 22.7312 156.549 23.2752 156.859 23.8092C159.549 28.4632 164.309 32.2262 169.159 33.5702C199.919 42.0922 235.819 31.8812 265.049 23.5712C266.369 23.1942 267.139 21.8102 266.769 20.4832C266.389 19.1562 265.009 18.3852 263.679 18.7622C235.269 26.8402 200.389 37.0322 170.489 28.7512C166.809 27.7312 163.229 24.8392 161.189 21.3072C160.959 20.9132 160.759 20.5102 160.569 20.1012C164.599 18.1042 169.339 15.3202 171.889 12.3402C174.509 9.28524 175.159 6.02425 172.879 2.94425C170.919 0.311248 167.949 0.0872439 164.859 1.45224C161.529 2.91424 158.099 6.33219 156.989 7.93619C154.909 10.9322 154.249 14.1822 154.629 17.3512C153.649 17.7652 152.853 18.0732 152.362 18.2532C141.632 22.1852 124.955 27.7352 109.446 30.0562C99.4666 31.5502 89.9876 31.7492 83.0496 29.0992C80.0906 27.9682 78.1356 26.6482 77.0746 25.1162C79.1686 24.4902 81.1877 23.8742 83.1167 23.2862C86.9317 22.1232 94.8746 20.1982 100.55 16.7672C105.063 14.0392 108.123 10.3282 107.945 5.67624C107.854 3.28624 106.471 1.69121 104.27 0.797215C100.981 -0.537785 95.2926 0.108201 93.1746 0.558201C86.7506 1.9202 78.1767 7.55823 73.9347 13.9112C72.2417 16.4462 71.2346 19.0982 71.1276 21.6612ZM76.4046 20.0992C78.2196 19.5532 79.9737 19.0172 81.6587 18.5032C85.2197 17.4172 92.6636 15.6922 97.9626 12.4882C100.769 10.7922 103.06 8.76022 102.949 5.86722C102.94 5.64222 102.717 5.57824 102.52 5.48624C102.215 5.34524 101.866 5.24821 101.494 5.17221C98.9766 4.65821 95.5956 5.15519 94.2116 5.44919C88.8216 6.59219 81.6516 11.3572 78.0926 16.6882C77.3406 17.8142 76.7416 18.9612 76.4046 20.0992ZM159.569 15.0492C161.919 13.8402 164.379 12.3782 166.319 10.7872C167.349 9.9422 168.219 9.07324 168.769 8.17124C169.229 7.42524 169.409 6.66119 168.859 5.92319C168.639 5.62419 168.309 5.61823 167.969 5.67423C167.609 5.73423 167.239 5.8622 166.869 6.02719C164.429 7.10119 161.909 9.6102 161.099 10.7872C160.149 12.1522 159.679 13.5962 159.569 15.0492Z" />
                        </svg>

                    </motion.p>
                </div>
            </motion.div>
            <motion.div className="sm:inline absolute hidden left-30 top-210">
                <div className="relative">
                    <motion.p className="text-3xl text-center text-[#507FF8] absolute top-1 -left-4.5 font-gaegu font-bold rotate-2">
                        <span className="absolute right-0 -top-8">
                            <svg className="fill-[#507FF8] " width="30" height="30" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fillRule="evenodd" clipRule="evenodd" d="M94.6785 31.4698C75.9099 66.3698 38.4175 80.5585 3.59528 60.9107C2.43603 60.2565 0.965988 60.6655 0.311743 61.8104C-0.342503 62.9758 0.0664445 64.4478 1.22569 65.1021C38.5504 86.181 78.8049 71.1539 98.9229 33.7597C99.5526 32.5943 99.1131 31.1221 97.9416 30.4883C96.7701 29.8749 95.3082 30.3045 94.6785 31.4698Z" />
                                <path d="M32.8988 45.9428C36.7758 45.9428 39.9187 42.7999 39.9187 38.9229C39.9187 35.0459 36.7758 31.9031 32.8988 31.9031C29.0218 31.9031 25.8789 35.0459 25.8789 38.9229C25.8789 42.7999 29.0218 45.9428 32.8988 45.9428Z" />
                                <path d="M61.9608 38.4754C65.762 38.4754 68.8436 35.394 68.8436 31.5927C68.8436 27.7915 65.762 24.7101 61.9608 24.7101C58.1596 24.7101 55.0781 27.7915 55.0781 31.5927C55.0781 35.394 58.1596 38.4754 61.9608 38.4754Z" />
                            </svg>
                        </span>
                        A platform build for thinkers, builders, and Communicators
                        <svg className="fill-[#507FF8]" width="400" height="42" viewBox="0 0 666 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fillRule="evenodd" clipRule="evenodd" d="M220.475 4.24483C147.138 3.4005 73.5014 6.48612 2.51671 19.4427C1.25022 19.6729 0.724462 20.1258 0.62084 20.2294C0.0144608 20.8435 -0.0508949 21.4959 0.0258619 22.0332C0.071916 22.3594 0.382916 23.7372 2.08308 23.8792C3.25746 23.9751 11.5931 23.3035 14.8092 23.1308C29.9495 22.321 45.0593 21.1659 60.1612 19.8303C94.4024 16.8138 128.597 14.204 162.892 11.8284C182.147 10.4928 201.409 9.3875 220.66 8.48177C266.971 9.02291 313.167 11.1338 358.5 13.3136C340.481 14.4228 323.925 15.5473 310.197 16.2765C287.047 17.5046 263.939 18.9552 240.835 20.8665C228.965 21.8451 217.11 22.9083 205.262 24.1632C203.95 24.3052 200.96 24.4511 199.513 24.6238C198.899 24.6928 198.454 24.8042 198.254 24.8809C197.003 25.3645 196.846 26.3546 196.831 26.8535C196.823 27.1567 196.926 28.8108 199.037 29.1332C297.182 44.262 399.576 26.6617 498.074 41.3683C499.229 41.541 500.312 40.7427 500.484 39.5837C500.657 38.4285 499.859 37.3462 498.7 37.1735C405.932 23.3227 309.705 38.133 216.818 27.2604C224.935 26.4736 233.056 25.7636 241.184 25.092C264.246 23.1846 287.311 21.7377 310.423 20.5096C333.68 19.2777 365.12 16.8713 398.029 15.3554C426.272 16.9289 454.499 18.6943 482.746 20.191C494.662 20.8204 506.583 21.3424 518.495 21.9833C523.393 22.2443 535.992 23.3381 537.819 22.9313C539.239 22.6127 539.58 21.5957 539.665 21.0853C539.753 20.5326 539.699 19.8456 539.055 19.1894C538.855 18.9821 538.257 18.5523 537.028 18.1992C503.812 8.6852 449.422 8.83487 398.482 11.1337C387.525 10.5197 376.568 9.93633 365.607 9.41055C340.516 8.20163 315.147 6.98885 289.633 6.03323C361.535 4.25631 433.472 4.76676 505.427 6.05243C535.639 6.59357 617.074 9.85575 649.147 12.738C648.756 13.1409 648.525 13.7013 648.552 14.3115C648.606 15.4782 649.6 16.3839 650.77 16.3302C657.387 16.0232 661.213 15.6317 662.729 15.2287C663.673 14.9793 664.188 14.5801 664.425 14.3192C665.009 13.6898 665.116 13.0143 665.001 12.3733C664.928 11.9742 664.748 11.5367 664.333 11.1337C664.057 10.8574 663.382 10.4353 662.23 10.1474C649.623 7.01191 541.476 2.45636 505.504 1.8116C410.445 0.115274 315.424 -0.230098 220.475 4.24483ZM511.315 17.3625C492.74 14.8411 470.964 13.9545 448.248 14.0121C459.819 14.6837 471.394 15.34 482.972 15.9541C492.417 16.4568 501.866 16.8867 511.315 17.3625ZM132.865 9.72143C108.495 11.5175 84.1514 13.4595 59.7888 15.6087C56.9757 15.8543 54.1664 16.0961 51.3532 16.334C78.2949 13.0335 105.517 10.9342 132.865 9.72143Z" />

                        </svg>

                    </motion.p>
                </div>
            </motion.div>
            <div className="flex-1 flex sm:items-center justify-center sm:p-4">
            {children}
            </div>
        </div>
    )
}
